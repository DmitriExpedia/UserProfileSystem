<!DOCTYPE html>

<html>

<head>
<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<script
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script
	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

<script src="js/app.js"></script>

<script src="js/filters/allFilters.js"></script>

<script src="js/dirictives/skillsModal.js"></script>

<script src="js/datasource/elasticsearch.js"></script>

<link rel="stylesheet" href="css/dashboard.css">

<script type="text/javascript">
	angular.module('ups').controller(
			'searchAllSkillsController',
			[ '$scope', 'ElasticSearchDatasource',
					function($scope, ElasticSearchDatasource) {
						$scope.datasource = ElasticSearchDatasource;
						$scope.readOnly = true;
						$scope.allSkills = []

						$scope.searchAllSkills = function() {
							$scope.datasource.searchAllSkills($scope)
						}
						
						$scope.calculateAllSkillsReportedCounts = function(){
						    var total = 0;
						    for(var i = 0; i < $scope.allSkills.length; i++){
						        total += $scope.allSkills[i].doc_count;
						    }
						    return total;
						}
						
						$scope.calculateSkillFontSize = function(skillCount){
						    //returns 1 - for common skill, 2 - less common
						    if (skillCount > Math.round($scope.calculateAllSkillsReportedCounts() / $scope.allSkills.length)) {
						    	return '30px';
						    } else {
						    	return '15px';
						    }
						}

						$scope.searchAllSkills();
					} ]);
</script>
</head>

<body ng-app="ups" ng-controller="searchAllSkillsController">


	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">User Profile System</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav navbar-right">
					<li><a href="#">Settings</a></li>
					<li><a href="#">Profile</a></li>
					<li><a href="#">Help</a></li>
				</ul>
			</div>
		</div>
	</nav>


	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-3 col-md-2 sidebar">
				<ul class="nav nav-sidebar">
					<li><a href="index.html">System overview</a></li>
					<li><a href="employee.html">Manage Employees</a></li>
					<li><a href="searchSkilledEmployee.html">Search Skilled
							Employee</a></li>
					<li class="active"><a href="allSkills.html">All Skills</a></li>
				</ul>
			</div>
			<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">



				<div ng-include src="'parts/skills.html'"></div>

			</div>
		</div>
	</div>

</body>
</html>

